<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        const partner = {
            name:'Alex',
            age:28,
            hobbies : ["cooking", "reading", "travelling"],
            cook: function(){
                console.log(`${this.name} is cooking dinner`);
            }
        }
        console.log(partner.name);
        console.log(partner.hobbies[1]);
        partner.cook();

        const friend = {nickName:"Buddy", fullName: "John Doe"};
        console.log(friend["nickName"]);
        console.log(friend["fullName"]);

        const crush = {name:'Taylor', likes:'movies'};
        crush.phonenumber ="123-456-789";
        crush.likes = "music";
        delete crush.phonenumber;
        console.log(crush);

        const friends = ["john", "Mike", "Sara"];
        console.log(friends[0]);
        console.log(friends.length);

        friends.push("Emma");
        console.log(friends);
        friends.pop();
        console.log(friends);

        friends.unshift("Liam");
        console.log(friends);
        friends.shift();
        console.log(friends);


        const playfriends = friends.slice(1,3);
        console.log(playfriends);
        friends.splice(1,1,"Nick");
        console.log(friends);

        const userProfile ={
            id:101,
            username:'Rakesh',
            email:'rakesh@gmail.com',
            isPremium : true,
            preferences: {
                theme: 'dark',
                notification: true
            },
            login:function(){
                console.log(`${this.username} has logged in`);
            }
        }
        console.log(userProfile.username);
        console.log(userProfile.preferences.theme);
        userProfile.login();

        const todos = [
            {id:1, task: "Learn JavaScript", completed:false},
            {id:2, task: "Build a Project", completed:false},
            {id:3, task: "Deploy to the web", completed:true},
        ]
        const pendingTasks = todos.filter((todo) => !todo.completed);
        console.log(pendingTasks);

        function processArray(arr,commands){
            const result = [];
            commands.forEach(({start, end, operation}) =>{
                const slicedArray = arr.slice(start,end);
                /* console.log(slicedArray); */
                switch(operation){
                    case "reverse" :
                        result.push(slicedArray.reverse());
                        break;
                    case "sum" :
                        result.push(slicedArray.reduce((sum,num) => sum+num, 0))
                        break;
                    case "length" :
                        result.push(slicedArray.length);
                        break;
                    default:
                        throw new Error("Invalid Operations")
                }
            })
            return result;
        }
        const arr = [10,20,30,40,50];
        const commands = [
            {start:1, end:4, operation:'reverse'},
            {start:0, end:2, operation:'sum'},
            {start:2, end:5, operation:'length'}
        ];
        console.log(processArray(arr,commands))


        function calculateTotalBonuses(employees, minRating, bonusPercentage){
            let totalBonuses = 0;
            let eligibileEmployees = employees.filter((e) => e.performance >= minRating);
            console.log(eligibileEmployees);
            totalBonuses = eligibileEmployees.reduce((sum, cur) => sum+ cur.salary * 12 * (bonusPercentage / 100), 0)
            return totalBonuses;
        }
        const employees =[
            {name: 'Alice', salary:5000, department:'Engineering', performance:4},
            {name: 'Bob', salary:4500, department:'Marketing', performance:3},
            {name:'Charlie', salary:6000, department:'Sales', performance:5}
        ]
        console.log(calculateTotalBonuses(employees, 4,10))


        function createImmutablePrototype(baseObj, extensionProps){
            const newObj = Object.create(baseObj);
            Object.assign(newObj, extensionProps);
            Object.freeze(newObj)
            return newObj
        }
        const base = {greet : "Hello"};
        const extension = {name : "Alice"}
        const obj = createImmutablePrototype(base, extension);
        console.log(obj.greet); //Hello
        console.log(obj.name); //Alice
    </script>
</body>
</html>